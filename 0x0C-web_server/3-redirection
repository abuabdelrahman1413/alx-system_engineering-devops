#!/usr/bin/env bash

# Update and upgrade the package list
sudo apt-get update
sudo apt-get upgrade -y

# Install Nginx
sudo apt-get install -y nginx

# Backup the original default site configuration
sudo cp /etc/nginx/sites-available/default /etc/nginx/sites-available/default.bak

# Use sed to find and replace the location block with the new configuration
sudo sed -i '/location \/ {/a \\n    location /redirect_me {\n        return 301 https://www.youtube.com/watch?v=QH2-TGUlwu4;\n    }\n' /etc/nginx/sites-available/default

# Test the Nginx configuration
sudo nginx -t

# Reload Nginx to apply the changes
sudo systemctl reload nginx

